<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>iGEM Wiki</title>
  <link rel="stylesheet" href="css/styles_main.css"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <base href="/">
  <style>
    .lake-image {
    display: block;       /* centers the image */
    margin: 2rem auto;    /* vertical spacing + horizontal centering */
    max-width: 60%;       /* reduces the image size */
    height: auto;         /* maintain aspect ratio */
    border-radius: 0.5rem; /* optional: rounded corners */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* optional: shadow */
}

  </style>
</head>

<body>
  <div id="progress-bar"></div>
      
  <!-- Navbar -->
  <nav class="navbar-1">
    <div class="container">
      <!-- Logo -->
      <a class="navbar-brand" href="/main.html">
        <img src="images/igemlogo.png" alt="Site Logo"/>
      </a>

      <!-- Mobile toggle -->
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
        <span class="nav-toggle-icon"></span>
      </button>

      <!-- Main Nav -->
      <ul class="nav-menu" id="nav-menu">
        <li>
          <a href="/project.html">Project</a>
          <nav class="navbar-2">
            <div class="container">
              <ul class="nav-menu_hovered">
                <li><a href="project/ideation.html">Ideation</a></li>
                <li><a href="project/overview.html">Overview</a></li>
              </ul>
            </div>
          </nav>
        </li>

        <li>
          <a href="/wetlab.html">Wet Lab</a>
          <nav class="navbar-2">
            <div class="container">
              <ul class="nav-menu_hovered">
                <li><a href="wetlab/design.html">Design</a></li>
                <li><a href="wetlab/engineering.html">Engineering</a></li>
                <li><a href="wetlab/experimentation.html">Experimentation</a></li>
                <li><a href="wetlab/notebook.html">Notebook</a></li>
                <li><a href="wetlab/parts.html">Parts</a></li>
                <li><a href="wetlab/delivery.html">Delivery Mechanisms</a></li>
                <li><a href="wetlab/biosafety.html">Biosafety and Biosecurity</a></li>
              </ul>
            </div>
          </nav>
        </li>

        <li>
          <a href="/drylab.html">Dry Lab</a>
          <nav class="navbar-2">
            <div class="container">
              <ul class="nav-menu_hovered">
                <li><a href="drylab/engineering.html">Engineering</a></li>
                <li><a href="drylab/ml.html">ML Modelling</a></li>
                <li><a href="drylab/modelling.html">ODE Modelling</a></li>
                <li><a href="drylab/juniors.html">Improvised GenBank</a></li>
                <li><a href="drylab/alphafold.html">Alphafold</a></li>
              </ul>
            </div>
          </nav>
        </li>

        <li>
          <a href="/hp.html">Human Practices</a>
          <nav class="navbar-2">
            <div class="container">
              <ul class="nav-menu_hovered">
                <li><a href="hp/ihp.html">Integrated Human Practices</a></li>
                <li><a href="hp/results.html">Results and Analysis</a></li>
                <li><a href="hp/sustainable.html">Sustainable Development</a></li>
                <li><a href="hp/blogs.html">Blogs</a></li>
              </ul>
            </div>
          </nav>
        </li>

        <li>
          <a href="/team.html">Team</a>
          <nav class="navbar-2">
            <div class="container">
              <ul class="nav-menu_hovered">
                <li><a href="team/attributions.html">Atttributions</a></li>
                <li><a href="team/gallery.html">Gallery</a></li>
                <li><a href="team/aiim.html">AIIM</a></li>
              </ul>
            </div>
          </nav>
        </li>

      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero-fullscreen">
    <div class="hero-overlay">
      <div class="hero-text">
        <h1 class="hero-title">
          <span class="line">ARGUS-2440:</span><br/>
          <span class="line">Mitigating nitrate</span><br/>
          <span class="line">leaching in soil</span><br/>
          <span class="line">with engineered <em>Pseudomonas putida</em></span>
        </h1>
      </div>
      <div class="bacteria-mask">
        <img src="images/C.png" alt="Bacteria" class="bacteria-image"/>
      </div>
    </div>
  </header>


  <!-- Problem Statement -->

  <section class="problem-band" aria-labelledby="problem-heading">
    <div class="problem-inner">
      <h2 id="problem-heading">A Hidden Threat in Our Water: Nitrate Leaching</h2>
      <p>
        Nitrogen fertilizers are essential for modern agriculture, but up to 50% is lost as nitrate, washing away from roots and into water bodies. This contamination threatens ecosystems and human health, while depleting nitrogen content from soil.
      </p>
    </div>

    <!-- Water Waves -->
    <div class="water-animation">

        <!-- Nitrate Molecules Floating -->
        <div class="water-animation-svg">
          <div id="nitrate-container" class="nitrate-container"></div>

          <svg class="waves-svg" id="wave-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 150">
            <path id="wave-path-svg" fill="rgba(147, 212, 249, 0.5)" 
                  d="M0,64 
                    C240,100 480,10 720,64 
                    S960,100 1200,64 
                    S1440,10 1440,64 
                    V100 H0 Z">
            </path>
          </svg>

        </div>

        <svg class="waves" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 150">
            <path id="wave-2" class="wave-path" fill="rgba(147, 212, 249, 0.5)" d="M0,64 C240,110 480,10 720,64 S960,110 1200,64 S1440,10 1440,64 V150 H0 Z"></path>
        </svg>
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 150">
            <path id="wave-1" class="wave-path" fill="rgba(190, 228, 249, 0.7)" d="M0,64 C240,10 480,110 720,64 S960,10 1200,64 S1440,110 1440,64 V150 H0 Z"></path>
        </svg>
    </div>
  </section>

  <!-- Solution Overview -->


  <!-- Statistics with animated dials -->

  <section class="stats-section">
      <h2></h2>
      <div class="stats-grid">

          <div class="stat-card fill-85">
              <div class="stat-card-header">
                  <h3><span class="counter" data-target="66">0</span>%</h3>
              </div>
              <p>lakes in Bangalore were sewage fed in 2009</p>
          </div>

          <div class="stat-card fill-30">
              <div class="stat-card-header">
                  <h3><span class="counter" data-target="30">0</span>%</h3>
              </div>
              <p></p>
          </div>

          <div class="stat-card fill-70">
              <div class="stat-card-header">
                  <h3><span class="counter" data-target="20">0</span>%</h3>
              </div>
              <p>level of dissolved oxygen compared to recommended value.</p>
          </div>

      </div>
  </section>
  
  <section class="stats-section">
  <h2>Murky Waters In The City Of Lakes</h2>
  <p>
    Bangalore, the city where our university is located, has been seeing eutrophication-growth of algal blooms on the surface of water- in its lakes for many years now. A water tank right beside our campus, Sankey Tank, has seen increasing algal growth, leading to poor quality water and mass fish kills. Urban eutrophication of this kind is heavily contributed to by nitrates in sewage and industrial effluents. But what about the rest of India?
  </p>

    <img src="images/Hebbal Lake Eutrophication.png" alt="Hebbal Lake Eutrophication" class="lake-image"/>

  </section>

  <section class="stats-section">
  <h2>A Double Edged Sword</h2>
  <p>
    With around 46.1 percent of the Indian population engaged in agriculture, and 46.82% percent of India’s landmass under cultivation, we decided to look at nitrates in an agricultural context. Most of the nitrates in such areas come from nitrogen based fertilizers. These nitrates leach away with water and enter groundwater or nearby surface water bodies. This is what causes rural eutrophication, which is detrimental for communities that drink this water. 
  </p>
  </section>

  <section class="stats-section-second">
      <h2></h2>
      <div class="stats-grid-second">

          <div class="stat-card-second fill-85">
              <div class="stat-card-header-second">
                  <h3><span class="counter-second" data-target="90">0</span>%</h3>
              </div>
              <p>of rural india relies on ground-water for drinking</p>
          </div>

          <div class="stat-card-second fill-30">
              <div class="stat-card-header-second">
                  <h3><span class="counter-second" data-target="22">0</span>%</h3>
              </div>
              <p>higher risk of methemoglobinemia in water with high nitrate levels</p>
          </div>

          <div class="stat-card-second fill-70">
              <div class="stat-card-header-second">
                  <h3><span class="counter-second" data-target="27">0</span>%</h3>
              </div>
              <p>of children population in Indo-Gangatic plain are at risk due to nitrate exposure.</p>
          </div>

      </div>
  </section>

      
  <section id="visual-expl" class="visual-expl" aria-labelledby="solution-heading">
    <div class="visual-grid">
      <figure class="visual-left">
        <video 
            src="images/hook.mp4" 
            controls 
            autoplay 
            loop 
            muted
            width="600"
            height="400"
        >
            Your browser does not support the video tag.
        </video>

      </figure>
      <div class="visual-right">
        <h2 id="solution-heading">Comprehensive Solution to Nitrate Leaching</h2>
        <p>We engineered <em>Pseudomonas putida</em> to act as a living buffer, capturing excess nitrate and holding it in the root zone where plants need it most.</p>
        <ul class="benefits-list">
          <li class="flex items-center gap-2">
            <!-- Water drop / fertilizer efficiency -->
            <!-- <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 2C12 2 4 10 12 22c8-12 0-20 0-20z"/>
            </svg> -->
            <span>Improve fertilizer efficiency and reduce usage</span>
          </li>

          <li class="flex items-center gap-2">
            <!-- Shield / biofilm protection -->
            <!-- <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 2l8 4v6c0 6-8 10-8 10S4 12 4 8V4l8-2z"/>
            </svg> -->
            <span>Form a bacterial biofilm around roots to confer resistance</span>
          </li>

          <li class="flex items-center gap-2">
            <!-- Recycling / reuse -->
            <!-- <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l9 9 9-9M21 3v6H3V3"/>
            </svg> -->
            <span>Treat runoff and reuse for fertilizer production</span>
          </li>

        </ul>
      </div>
    </div>
  </section>

  <div class="primary-actions" role="group" aria-label="Primary project actions">
    <a class="btn btn-primary" href="pond.html">Watch Our Animation</a>
    <a class="btn btn-secondary" href="drylab.html">Explore the Data</a>
  </div>

  <section class="explore" aria-labelledby="explore-heading">
    <h2 id="explore-heading">Dive Deeper into Our Project</h2>
    <div class="explore-grid">
      <a href="spiderweb.html" class="card-link" aria-label="Explore our Human Practices Network">
        <article>
          <img src="images/bacteria_legend.png" alt="Stylized icon of a connected network" loading="lazy"/>
          <h3>HP Network</h3>
          <p>Interactive exploration of our stakeholder engagement and insights.</p>
          <span class="card-cta">Explore Human Practices</span>
        </article>
      </a>
      <a href="modeling.html" class="card-link" aria-label="View our project's modeling">
        <article>
          <img src="images/bacteria.gif" alt="Animated icon showing data analysis" loading="lazy"/>
          <h3>Modeling</h3>
          <p>From metabolic models to growth and nutrient uptake predictions.</p>
          <span class="card-cta">View Modeling</span>
        </article>
      </a>
      <a href="parts.html" class="card-link" aria-label="Browse our BioBrick parts">
        <article>
          <img src="images/igemlogo.png" alt="Icon of a DNA plasmid" loading="lazy"/>
          <h3>Parts</h3>
          <p>Our contribution of new and characterized BioBrick parts to the registry.</p>
          <span class="card-cta">Browse Parts</span>
        </article>
      </a>
      <a href="safety.html" class="card-link" aria-label="Read about our project safety">
        <article>
          <img src="images/igemlogo.png" alt="Icon of a shield representing safety" loading="lazy"/>
          <h3>Safety</h3>
          <p>A comprehensive overview of our risk assessment and mitigation strategies.</p>
          <span class="card-cta">Read Safety</span>
        </article>
      </a>
      <a href="team.html" class="card-link" aria-label="Meet the team">
        <article>
          <img src="images/igemlogo.png" alt="Icon representing a group of people" loading="lazy"/>
          <h3>Team</h3>
          <p>Meet the dedicated students and mentors who made this project possible.</p>
          <span class="card-cta">Meet the Team</span>
        </article>
      </a>
      <a href="sponsors.html" class="card-link" aria-label="See our sponsors">
        <article>
          <img src="images/igemlogo.png" alt="Icon of hands shaking, representing partnership" loading="lazy"/>
          <h3>Sponsors</h3>
          <p>The generous supporters who make our research and outreach possible.</p>
          <span class="card-cta">See Sponsors</span>
        </article>
      </a>
    </div>
  </section>

  <!--
  <iframe src="pond.html" 
    width="100%" 
    height="800px" 
    frameborder="0" 
    scrolling="no" 
    style="border: none;">
  </iframe>
  -->
  
    <!-- Footer -->
  <footer class="bg-gradient-to-r from-green-700 to-purple-700 text-white py-8 text-center">
    <p>© 2025 iGEM Team ARGUS-2440 | Wet Lab</p>
    <p class="mt-2 text-sm">
      Learn more on our <a href="project.html" class="underline hover:text-gray-200">Project page</a> 
      or contact us at <a href="mailto:team@argus2440.org" class="underline hover:text-gray-200">team@argus2440.org</a>.
    </p>
  </footer>

  <script>
  // Scroll progress bar
  window.addEventListener("scroll", () => {
    const docHeight = document.body.scrollHeight - window.innerHeight;
    const scrolled = (window.scrollY / docHeight) * 100;
    document.getElementById("progress-bar").style.width = scrolled + "%";
  });

  // Navbar toggle
  const navToggle = document.getElementById("nav-toggle");

  navToggle.addEventListener("click", () => {
    const expanded = navToggle.getAttribute("aria-expanded") === "true";
    navToggle.setAttribute("aria-expanded", !expanded);
    document.getElementById("nav-menu").classList.toggle("open");
  });

  function wrapLettersPreserve(root) {
    if (!root) return;
    const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, {
      acceptNode(node) {
        return node.nodeValue.trim() ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;
      }
    });

    const textNodes = [];
    while (walker.nextNode()) textNodes.push(walker.currentNode);

    textNodes.forEach(textNode => {
      const frag = document.createDocumentFragment();
      const parts = textNode.nodeValue.split(/(\s+)/); // words + spaces

      parts.forEach(part => {
        if (/^\s+$/.test(part)) {
          frag.appendChild(document.createTextNode(part)); // keep spaces as real spaces
        } else {
          const word = document.createElement('span');
          word.className = 'word';
          [...part].forEach(ch => {
            const span = document.createElement('span');
            span.className = 'letter';
            span.textContent = ch;
            word.appendChild(span);
          });
          frag.appendChild(word);
        }
      });

      textNode.parentNode.replaceChild(frag, textNode);
    });
  }

  // Call it on the hero title (after the DOM is ready or at end of body)
  wrapLettersPreserve(document.querySelector('.hero-title'));

  // Scale only the letter under the cursor; don’t touch spaces
  (() => {
    const hero = document.querySelector('.hero-overlay');
    let active = null;

    hero.addEventListener('mousemove', (e) => {
      const el = document.elementFromPoint(e.clientX, e.clientY);
      if (el && el.classList && el.classList.contains('letter')) {
        if (active && active !== el) active.style.transform = '';
        active = el;
        el.style.transform = 'scale(1.5)';
      } else if (active) {
        active.style.transform = '';
        active = null;
      }
    });

    hero.addEventListener('mouseleave', () => {
      if (active) { active.style.transform = ''; active = null; }
    });
  })();

  // Hero + cursor + bacteria mask
  (function () {
    const hero = document.querySelector(".hero-overlay");
    const mask = document.querySelector(".bacteria-mask");
    if (!hero || !mask) return;

    const CURSOR_SRC = "images/magnifying_glass.png";
    const MAX_WIDTH = 100;

    const cursorEl = document.createElement("img");
    cursorEl.src = CURSOR_SRC;
    cursorEl.alt = "";
    Object.assign(cursorEl.style, {
      position: "fixed",
      left: "0",
      top: "0",
      width: MAX_WIDTH + "px",
      height: "auto",
      pointerEvents: "none",
      zIndex: 2500,
      opacity: "0",
      transition: "opacity 120ms ease"
    });
    document.body.appendChild(cursorEl);

    let hotspotX = MAX_WIDTH / 2;
    let hotspotY = MAX_WIDTH / 2;

    cursorEl.onload = () => {
      const ratio = cursorEl.naturalHeight / cursorEl.naturalWidth;
      const actualHeight = MAX_WIDTH * ratio;
      hotspotX = MAX_WIDTH / 2;
      hotspotY = actualHeight / 2;
      cursorEl.style.transform = `translate(-${hotspotX}px, -${hotspotY}px)`;
    };

    function showCursor() {
      hero.style.cursor = "none";
      cursorEl.style.opacity = "1";
    }
    function hideCursor() {
      hero.style.cursor = "";
      cursorEl.style.opacity = "0";
    }

    hero.addEventListener("mousemove", (e) => {
      const rect = hero.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      mask.style.setProperty("--x", `${x}px`);
      mask.style.setProperty("--y", `${y}px`);
      mask.classList.add("visible");

      cursorEl.style.left = e.clientX + "px";
      cursorEl.style.top = e.clientY + "px";
      if (cursorEl.style.opacity !== "1") showCursor();
    });

    hero.addEventListener("mouseenter", showCursor);
    hero.addEventListener("mouseleave", () => {
      mask.classList.remove("visible");
      hideCursor();
    });
  })();

  (function () {
    const hero = document.querySelector(".hero-overlay");
    let activeLetter = null;

    hero.addEventListener("mousemove", (e) => {
      const letterEl = document.elementFromPoint(e.clientX, e.clientY);
      if (letterEl && letterEl.classList.contains("letter")) {
        if (activeLetter && activeLetter !== letterEl) {
          activeLetter.style.transform = "";
        }
        activeLetter = letterEl;
        letterEl.style.transform = "scale(1.5)";
        letterEl.style.display = "inline-block";
        letterEl.style.transition = "transform 0.15s ease";
      } else if (activeLetter) {
        activeLetter.style.transform = "";
        activeLetter = null;
      }
    });

    hero.addEventListener("mouseleave", () => {
      if (activeLetter) {
        activeLetter.style.transform = "";
        activeLetter = null;
      }
    });
  })();

// Percentage increases over time:

// JavaScript to animate the numbers when they scroll into view
const counters = document.querySelectorAll('.stat-card');

counters.forEach(card => {
    const counter = card.querySelector('.counter');
    if (!counter) return;

    const target = +counter.getAttribute('data-target');
    let hasAnimated = false;

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !hasAnimated) {
                hasAnimated = true;
                //temp
                card.classList.add('is-visible');
                //temp
                let currentValue = 0;
                const duration = 1500; // Animation duration in milliseconds
                const stepTime = 20;   // Milliseconds per step
                const totalSteps = duration / stepTime;
                const increment = target / totalSteps;

                const interval = setInterval(() => {
                    currentValue += increment;
                    if (currentValue >= target) {
                        currentValue = target;
                        clearInterval(interval);
                    }
                    counter.textContent = Math.round(currentValue);
                }, stepTime);
            }
        });
    }, { threshold: 0.5 }); // Triggers when 50% of the card is visible

    observer.observe(card);
});

// Add the event listener to run the function on every scroll
window.addEventListener('scroll', updateDialsOnScroll);
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('nitrate-container');
    const path = document.getElementById('wave-path-svg');
    const pathLength = path.getTotalLength();

    const dotCount = 6;

    function createDot() {
        const dot = document.createElement('div');
        dot.className = 'floating-dot';
        container.appendChild(dot);

        // Clear any green background
        dot.style.background = 'transparent';
        dot.style.width = '30px';
        dot.style.height = '30px';

        // Create the nitrate SVG inside the div
        dot.innerHTML = `
        <svg width="30" height="30" viewBox="0 0 30 30">
            <!-- Nitrogen incenter -->
            <circle cx="15" cy="15" r="5" fill="blue"/>
            <!-- Oxygen atoms at triangle vertices -->
            <circle cx="15" cy="3" r="5" fill="red"/>
            <circle cx="3" cy="25" r="5" fill="red"/>
            <circle cx="27" cy="25" r="5" fill="red"/>
        </svg>`;


        const heightVariation = (Math.random() * 10 - 5)/2;
        const duration = 7500 + Math.random() * 500; // 7–8 seconds
        let startTime = performance.now();

        const startPoint = path.getPointAtLength(0);
        let prevX = startPoint.x;

        function animate(now) {
            const elapsed = now - startTime;
            let progress = elapsed / duration;

            if (progress >= 1) {
                dot.style.opacity = 0; // hide while waiting
                setTimeout(() => {
                    startTime = performance.now();
                    prevX = 0;
                    requestAnimationFrame(animate);
                }, 500 + Math.random() * 1000); // 2–3s wait
                return;
            }

            const distance = pathLength * progress;
            const point = path.getPointAtLength(distance);
            
            const waveOffset = 25;
            dot.style.transform = `translate(${point.x - 15}px, ${point.y + waveOffset + heightVariation}px)`;

            const minHeight = 50; // set this to the minimum y you want
            if (point.y < minHeight) point.y = minHeight;

            // Compute velocity
            const velocityX = point.x - prevX;
            prevX = point.x;

            // Visibility logic based on direction and position
            const leftThreshold = 30;  // start showing after x > 30
            const rightThreshold = container.offsetWidth - 50; // hide when x > width-30
            if (velocityX > 0 && point.x > leftThreshold && point.x < rightThreshold) {
                dot.style.opacity = 1;
            } else {
                dot.style.opacity = 0;
            }

            requestAnimationFrame(animate);
        }

        requestAnimationFrame(animate);
    }

    for (let i = 0; i < dotCount; i++) {
        setTimeout(createDot, i * 500);
    }
});

// JavaScript to animate the numbers when they scroll into view
const countersSecond = document.querySelectorAll('.stat-card-second');

countersSecond.forEach(card => {
    const counter = card.querySelector('.counter-second');
    if (!counter) return;

    const target = +counter.getAttribute('data-target');
    let hasAnimated = false;

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !hasAnimated) {
                hasAnimated = true;
                card.classList.add('is-visible'); // triggers fill animation

                let currentValue = 0;
                const duration = 1500; // ms
                const stepTime = 20;
                const totalSteps = duration / stepTime;
                const increment = target / totalSteps;

                const interval = setInterval(() => {
                    currentValue += increment;
                    if (currentValue >= target) {
                        currentValue = target;
                        clearInterval(interval);
                    }
                    counter.textContent = Math.round(currentValue);
                }, stepTime);
            }
        });
    }, { threshold: 0.5 });

    observer.observe(card);
});

</script>

</body>
</html>
